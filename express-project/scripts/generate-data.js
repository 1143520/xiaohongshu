const mysql = require('mysql2/promise');
const NotificationHelper = require('../utils/notificationHelper');
const config = require('../config/config');
const fs = require('fs');
const path = require('path');

// æ•°æ®åº“é…ç½®
const dbConfig = {
  host: config.database.host,
  user: config.database.user,
  password: config.database.password,
  database: config.database.database,
  charset: config.database.charset
};

// æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨
class DataGenerator {
  constructor() {
    // è¯»å–å›¾ç‰‡é“¾æ¥æ–‡ä»¶
    this.avatarLinks = this.loadLinksFromFile('../imgLinks/avatar_link.txt');
    this.imageLinks = this.loadLinksFromFile('../imgLinks/post_img_link.txt');
    // ä¸å‰ç«¯ä¸¥æ ¼å¯¹åº”çš„åˆ†ç±»
    this.categories = [
      'opensource', 'knowledge', 'tinkering', 'wallpaper',
      'weblinks', 'repost', 'aitools', 'selfbuilt', 'upfollow', 'todo'
    ];
    // åˆ†ç±»å¯¹åº”çš„ä¸­æ–‡åç§°å’Œç›¸å…³å†…å®¹
    this.categoryData = {
      'opensource': {
        name: 'å¼€æºé¡¹ç›®',
        tags: ['å¼€æº', 'GitHub', 'é¡¹ç›®', 'ä»£ç ', 'å¼€å‘', 'æŠ€æœ¯', 'åˆ†äº«', 'å­¦ä¹ '],
        titles: [
          'å‘ç°ä¸€ä¸ªè¶…æ£’çš„å¼€æºé¡¹ç›®ï¼Œå¿…é¡»åˆ†äº«ç»™å¤§å®¶',
          'æˆ‘å‚ä¸çš„å¼€æºé¡¹ç›®ç»å†åˆ†äº«',
          'è¿™äº›å¼€æºå·¥å…·æ”¹å˜äº†æˆ‘çš„å¼€å‘æ•ˆç‡',
          'å¼€æºé¡¹ç›®è´¡çŒ®æŒ‡å—ï¼Œæ–°æ‰‹ä¹Ÿèƒ½å‚ä¸',
          'æ¨èå‡ ä¸ªå€¼å¾—å…³æ³¨çš„GitHubé¡¹ç›®',
          'ä»ä½¿ç”¨è€…åˆ°è´¡çŒ®è€…ï¼Œæˆ‘çš„å¼€æºä¹‹è·¯',
          'å¼€æºé¡¹ç›®å¦‚ä½•é€‰æ‹©å’Œè¯„ä¼°',
          'åˆ†äº«æˆ‘æ”¶è—çš„å¼€æºé¡¹ç›®æ¸…å•',
          'å¼€æºåä½œçš„æ­£ç¡®å§¿åŠ¿',
          'è¿™ä¸ªå¼€æºé¡¹ç›®è§£å†³äº†æˆ‘çš„ç—›ç‚¹é—®é¢˜'
        ],
        contents: [
          'æœ€è¿‘å‘ç°äº†ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„å¼€æºé¡¹ç›®ï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”ä»£ç è´¨é‡å¾ˆé«˜ã€‚é¡¹ç›®æ–‡æ¡£è¯¦ç»†ï¼Œç¤¾åŒºæ´»è·ƒï¼Œéå¸¸é€‚åˆå­¦ä¹ å’Œä½¿ç”¨ã€‚',
          'åˆ†äº«ä¸€äº›æˆ‘åœ¨å¼€æºé¡¹ç›®ä¸­çš„ç»éªŒå’Œæ”¶è·ï¼ŒåŒ…æ‹¬å¦‚ä½•æ‰¾åˆ°åˆé€‚çš„é¡¹ç›®ã€å¦‚ä½•å‚ä¸è´¡çŒ®ã€ä»¥åŠåœ¨åä½œè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„äº‹é¡¹ã€‚',
          'æ•´ç†äº†ä¸€ä»½æˆ‘å¹³æ—¶ä½¿ç”¨çš„å¼€æºå·¥å…·æ¸…å•ï¼Œæ¶µç›–å¼€å‘ã€è®¾è®¡ã€è¿ç»´ç­‰å„ä¸ªæ–¹é¢ï¼Œæ¯ä¸ªéƒ½æ˜¯ç»è¿‡å®è·µéªŒè¯çš„å¥½å·¥å…·ã€‚',
          'å¼€æºä¸ä»…æ˜¯ä»£ç çš„åˆ†äº«ï¼Œæ›´æ˜¯çŸ¥è¯†å’Œç»éªŒçš„ä¼ é€’ã€‚ä»Šå¤©æƒ³å’Œå¤§å®¶èŠèŠå‚ä¸å¼€æºé¡¹ç›®ç»™æˆ‘å¸¦æ¥çš„æˆé•¿å’Œæ€è€ƒã€‚'
        ]
      },
      'knowledge': {
        name: 'çŸ¥è¯†ç¢ç‰‡',
        tags: ['çŸ¥è¯†', 'å­¦ä¹ ', 'æŠ€å·§', 'ç»éªŒ', 'æ€»ç»“', 'ç¬”è®°', 'æ€è€ƒ', 'åˆ†äº«'],
        titles: [
          'ä»Šå¤©å­¦åˆ°çš„å°çŸ¥è¯†ï¼Œè®°å½•ä¸€ä¸‹',
          'å·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ',
          'è¯»ä¹¦ç¬”è®°ï¼šè¿™æœ¬ä¹¦ç»™æˆ‘çš„å¯å‘',
          'ç”Ÿæ´»å°æŠ€å·§ï¼Œè®©æ—¥å¸¸æ›´é«˜æ•ˆ',
          'å­¦ä¹ æ–¹æ³•åˆ†äº«ï¼Œæå‡æ•ˆç‡å¿…å¤‡',
          'çŸ¥è¯†ç‚¹æ€»ç»“ï¼Œæ–¹ä¾¿æ—¥åæŸ¥é˜…',
          'æ€ç»´å¯¼å›¾åˆ¶ä½œå¿ƒå¾—',
          'ç¢ç‰‡åŒ–å­¦ä¹ çš„æ­£ç¡®æ–¹å¼',
          'çŸ¥è¯†ç®¡ç†ç³»ç»Ÿæ­å»ºç»éªŒ',
          'ä»é›¶å¼€å§‹å­¦ä¹ æ–°æŠ€èƒ½çš„æ–¹æ³•'
        ],
        contents: [
          'åœ¨å­¦ä¹ å’Œå·¥ä½œä¸­ç»å¸¸ä¼šé‡åˆ°ä¸€äº›æœ‰è¶£çš„çŸ¥è¯†ç‚¹ï¼Œè™½ç„¶çœ‹ä¼¼é›¶æ•£ï¼Œä½†ç§¯ç´¯èµ·æ¥å´èƒ½å½¢æˆå®Œæ•´çš„çŸ¥è¯†ä½“ç³»ã€‚ä»Šå¤©åˆ†äº«ä¸€äº›æˆ‘æœ€è¿‘æ•´ç†çš„çŸ¥è¯†ç¢ç‰‡ã€‚',
          'è®°å½•ä¸€äº›å¹³æ—¶å­¦ä¹ å’Œæ€è€ƒçš„å¿ƒå¾—ï¼ŒåŒ…æ‹¬å­¦ä¹ æ–¹æ³•ã€æ€ç»´æ–¹å¼ã€é—®é¢˜è§£å†³ç­‰æ–¹é¢çš„ç»éªŒæ€»ç»“ã€‚å¸Œæœ›è¿™äº›ç¢ç‰‡åŒ–çš„çŸ¥è¯†èƒ½å¤Ÿå¸®åŠ©åˆ°æœ‰éœ€è¦çš„æœ‹å‹ã€‚',
          'çŸ¥è¯†çš„ä»·å€¼ä¸åœ¨äºå¤šå°‘ï¼Œè€Œåœ¨äºèƒ½å¦è¢«æœ‰æ•ˆåˆ©ç”¨ã€‚åˆ†äº«ä¸€äº›æˆ‘åœ¨çŸ¥è¯†ç®¡ç†å’Œåº”ç”¨æ–¹é¢çš„å®è·µç»éªŒã€‚',
          'æ¯å¤©éƒ½åœ¨å­¦ä¹ æ–°çš„ä¸œè¥¿ï¼Œè™½ç„¶éƒ½æ˜¯äº›å°çŸ¥è¯†ç‚¹ï¼Œä½†æ±‡èšèµ·æ¥å°±æ˜¯å¾ˆå¤§çš„æ”¶è·ã€‚è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿ä»¥åå›é¡¾å’Œåº”ç”¨ã€‚'
        ]
      },
      'tinkering': {
        name: 'æŠ˜è…¾æ—¥å¸¸',
        tags: ['æŠ˜è…¾', 'æŠ€æœ¯', 'å·¥å…·', 'é…ç½®', 'ä¼˜åŒ–', 'æ¢ç´¢', 'å®éªŒ', 'DIY'],
        titles: [
          'åˆå¼€å§‹æŠ˜è…¾æ–°å·¥å…·äº†ï¼Œè®°å½•ä¸€ä¸‹è¿‡ç¨‹',
          'ç³»ç»Ÿé…ç½®ä¼˜åŒ–ï¼Œè®©ç”µè„‘è¿è¡Œæ›´æµç•…',
          'è‡ªå»ºæœåŠ¡æ­å»ºç»éªŒåˆ†äº«',
          'è½¯ä»¶æ¨èï¼šè¿™äº›å·¥å…·æå‡äº†æˆ‘çš„æ•ˆç‡',
          'ç¡¬ä»¶å‡çº§è®°å½•ï¼Œæ€§èƒ½æå‡æ˜æ˜¾',
          'ç½‘ç»œé…ç½®æŠ˜è…¾æ—¥è®°',
          'å¼€å‘ç¯å¢ƒæ­å»ºå…¨è®°å½•',
          'æ•°æ®å¤‡ä»½æ–¹æ¡ˆçš„é€‰æ‹©ä¸å®è·µ',
          'è‡ªåŠ¨åŒ–è„šæœ¬ç¼–å†™å¿ƒå¾—',
          'æ ‘è“æ´¾é¡¹ç›®å®è·µè®°å½•'
        ],
        contents: [
          'ä½œä¸ºä¸€ä¸ªçˆ±æŠ˜è…¾çš„äººï¼Œæ€»æ˜¯å¿ä¸ä½è¦å°è¯•å„ç§æ–°å·¥å…·å’Œæ–°æ–¹æ³•ã€‚ä»Šå¤©åˆ†äº«ä¸€ä¸‹æœ€è¿‘æŠ˜è…¾çš„ä¸€äº›æœ‰è¶£é¡¹ç›®å’Œå¿ƒå¾—ä½“ä¼šã€‚',
          'æŠ˜è…¾çš„è¿‡ç¨‹è™½ç„¶æœ‰æ—¶å€™å¾ˆç—›è‹¦ï¼Œä½†æœ€ç»ˆè§£å†³é—®é¢˜æ—¶çš„æˆå°±æ„Ÿæ˜¯æ— ä¸ä¼¦æ¯”çš„ã€‚è®°å½•ä¸€ä¸‹è¿™æ¬¡æŠ˜è…¾çš„å®Œæ•´è¿‡ç¨‹ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°é‡åˆ°ç±»ä¼¼é—®é¢˜çš„æœ‹å‹ã€‚',
          'åˆ†äº«ä¸€äº›æˆ‘åœ¨æŠ€æœ¯æ¢ç´¢å’Œå·¥å…·ä½¿ç”¨æ–¹é¢çš„ç»éªŒï¼ŒåŒ…æ‹¬è¸©è¿‡çš„å‘å’Œæ€»ç»“çš„ç»éªŒã€‚æŠ˜è…¾æœ‰é£é™©ï¼Œæ“ä½œéœ€è°¨æ…ï¼',
          'æœ€è¿‘åˆå¼€å§‹äº†æ–°ä¸€è½®çš„æŠ˜è…¾ï¼Œè¿™æ¬¡çš„ç›®æ ‡æ˜¯ä¼˜åŒ–æ•´ä¸ªå·¥ä½œæµç¨‹ã€‚è™½ç„¶è¿‡ç¨‹æ›²æŠ˜ï¼Œä½†ç»“æœè¿˜æ˜¯å¾ˆä»¤äººæ»¡æ„çš„ã€‚'
        ]
      },
      'wallpaper': {
        name: 'å£çº¸æ”¶é›†',
        tags: ['å£çº¸', 'ç¾å›¾', 'è®¾è®¡', 'è‰ºæœ¯', 'æ‘„å½±', 'æ’ç”»', 'é£æ™¯', 'æ”¶è—'],
        titles: [
          'ç²¾ç¾å£çº¸åˆ†äº«ï¼Œæ¯ä¸€å¼ éƒ½æ˜¯ç²¾å“',
          '4Ké«˜æ¸…å£çº¸æ”¶é›†ï¼Œè§†è§‰ç››å®´',
          'æç®€é£æ ¼å£çº¸ï¼Œç®€çº¦è€Œä¸ç®€å•',
          'è‡ªç„¶é£å…‰å£çº¸ï¼Œæ„Ÿå—å¤§è‡ªç„¶çš„ç¾',
          'åŠ¨æ¼«å£çº¸ç²¾é€‰ï¼ŒäºŒæ¬¡å…ƒçš„ç¾å¥½',
          'æŠ½è±¡è‰ºæœ¯å£çº¸ï¼Œè‰ºæœ¯ä¸ç§‘æŠ€çš„ç»“åˆ',
          'é»‘ç™½æ‘„å½±å£çº¸ï¼Œç»å…¸æ°¸ä¸è¿‡æ—¶',
          'èŠ‚æ—¥ä¸»é¢˜å£çº¸ï¼Œåº”æ™¯åˆå¥½çœ‹',
          'æ‰‹æœºå£çº¸æ¨èï¼Œè®©å±å¹•æ›´ç²¾å½©',
          'æ¡Œé¢å£çº¸æ•´ç†ï¼Œæ‰“é€ ä¸ªæ€§åŒ–å·¥ä½œç¯å¢ƒ'
        ],
        contents: [
          'æ”¶é›†äº†ä¸€äº›æœ€è¿‘å‘ç°çš„ç²¾ç¾å£çº¸ï¼ŒåŒ…æ‹¬é£æ™¯ã€è‰ºæœ¯ã€è®¾è®¡ç­‰å„ç§é£æ ¼ã€‚æ¯ä¸€å¼ éƒ½ç»è¿‡ç²¾å¿ƒæŒ‘é€‰ï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚',
          'å¥½çš„å£çº¸ä¸ä»…èƒ½ç¾åŒ–æ¡Œé¢ï¼Œè¿˜èƒ½åœ¨å·¥ä½œç–²æƒ«æ—¶ç»™äººå¸¦æ¥è§†è§‰ä¸Šçš„äº«å—ã€‚åˆ†äº«ä¸€äº›æˆ‘çè—çš„é«˜è´¨é‡å£çº¸èµ„æºã€‚',
          'å£çº¸çš„é€‰æ‹©å¾€å¾€åæ˜ äº†ä¸€ä¸ªäººçš„å®¡ç¾å’Œå¿ƒæƒ…ã€‚ä»Šå¤©æ•´ç†äº†ä¸€äº›ä¸åŒé£æ ¼çš„å£çº¸ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ã€‚',
          'å®šæœŸæ›´æ¢å£çº¸æ˜¯æˆ‘çš„ä¸€ä¸ªå°ä¹ æƒ¯ï¼Œä¸åŒçš„å£çº¸èƒ½å¸¦æ¥ä¸åŒçš„å¿ƒæƒ…å’Œçµæ„Ÿã€‚åˆ†äº«ä¸€äº›æˆ‘æœ€å–œæ¬¢çš„å£çº¸æ”¶è—ã€‚'
        ]
      },
      'weblinks': {
        name: 'ç½‘é¡µæ”¶é›†',
        tags: ['ç½‘ç«™', 'å·¥å…·', 'èµ„æº', 'æ”¶è—', 'æ¨è', 'å®ç”¨', 'è®¾è®¡', 'å­¦ä¹ '],
        titles: [
          'å®ç”¨ç½‘ç«™æ¨èï¼Œå·¥ä½œå­¦ä¹ å¿…å¤‡',
          'è®¾è®¡èµ„æºç½‘ç«™åˆé›†ï¼Œè®¾è®¡å¸ˆçš„å®åº“',
          'åœ¨çº¿å·¥å…·æ¨èï¼Œæå‡æ•ˆç‡ç¥å™¨',
          'å­¦ä¹ ç½‘ç«™åˆ†äº«ï¼Œå…è´¹ä¼˜è´¨èµ„æº',
          'å¼€å‘è€…å¿…å¤‡ç½‘ç«™æ¸…å•',
          'åˆ›æ„çµæ„Ÿç½‘ç«™ï¼Œæ¿€å‘æ— é™æƒ³è±¡',
          'å…è´¹å›¾åº“ç½‘ç«™æ¨èï¼Œé«˜è´¨é‡ç´ æ',
          'æŠ€æœ¯æ–‡æ¡£å’Œæ•™ç¨‹ç½‘ç«™æ•´ç†',
          'ç”Ÿæ´»å®ç”¨ç½‘ç«™ï¼Œè®©ç”Ÿæ´»æ›´ä¾¿åˆ©',
          'å°ä¼—ä½†å¥½ç”¨çš„ç½‘ç«™å‘ç°'
        ],
        contents: [
          'äº’è”ç½‘ä¸Šæœ‰å¾ˆå¤šä¼˜ç§€çš„ç½‘ç«™å’Œåœ¨çº¿å·¥å…·ï¼Œä½†å¾€å¾€éœ€è¦æ—¶é—´å»å‘ç°å’Œæ•´ç†ã€‚ä»Šå¤©åˆ†äº«ä¸€äº›æˆ‘æ”¶è—çš„å®ç”¨ç½‘ç«™ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚',
          'æ”¶é›†äº†ä¸€äº›åœ¨å·¥ä½œå’Œå­¦ä¹ ä¸­ç»å¸¸ç”¨åˆ°çš„ç½‘ç«™ï¼Œæ¶µç›–è®¾è®¡ã€å¼€å‘ã€å­¦ä¹ ã€å·¥å…·ç­‰å„ä¸ªæ–¹é¢ã€‚æ¯ä¸€ä¸ªéƒ½æ˜¯ç»è¿‡å®è·µéªŒè¯çš„å¥½èµ„æºã€‚',
          'å¥½çš„ç½‘ç«™å°±åƒå¥½çš„å·¥å…·ï¼Œèƒ½å¤Ÿå¤§å¤§æå‡æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚åˆ†äº«ä¸€äº›æˆ‘ç²¾å¿ƒæ”¶é›†çš„ç½‘ç«™èµ„æºï¼Œéƒ½æ˜¯å¹²è´§æ»¡æ»¡ã€‚',
          'å®šæœŸæ•´ç†å’Œåˆ†äº«æ”¶è—çš„ç½‘ç«™æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œä¸ä»…æ–¹ä¾¿è‡ªå·±æŸ¥æ‰¾ï¼Œä¹Ÿèƒ½å¸®åŠ©åˆ°å…¶ä»–æœ‰éœ€è¦çš„äººã€‚'
        ]
      },
      'repost': {
        name: 'è½¬è½½',
        tags: ['è½¬è½½', 'åˆ†äº«', 'æ¨è', 'å¥½æ–‡', 'èµ„è®¯', 'è§‚ç‚¹', 'å­¦ä¹ ', 'æ”¶è—'],
        titles: [
          'å¥½æ–‡æ¨èï¼šè¿™ç¯‡æ–‡ç« å€¼å¾—ä¸€è¯»',
          'è½¬è½½åˆ†äº«ï¼šæ·±åº¦å¥½æ–‡ä¸å®¹é”™è¿‡',
          'ç²¾é€‰æ–‡ç« ï¼šä½œè€…çš„è§‚ç‚¹å¾ˆæœ‰å¯å‘',
          'æ¨èé˜…è¯»ï¼šè¿™ä¸ªè¯é¢˜è®¨è®ºå¾ˆç²¾å½©',
          'å€¼å¾—æ”¶è—çš„ä¼˜è´¨å†…å®¹åˆ†äº«',
          'è½¬è½½ï¼šæŠ€æœ¯æ–‡ç« ï¼Œå¹²è´§æ»¡æ»¡',
          'å¥½æ–‡è½¬å‘ï¼šè§‚ç‚¹ç‹¬åˆ°ï¼Œå€¼å¾—æ€è€ƒ',
          'ç²¾å½©å†…å®¹åˆ†äº«ï¼Œä¸å®¹é”™è¿‡',
          'è½¬è½½æ¨èï¼šè¿™ä¸ªä½œè€…å†™å¾—çœŸå¥½',
          'ä¼˜è´¨å†…å®¹è½¬è½½ï¼Œå€¼å¾—å­¦ä¹ '
        ],
        contents: [
          'çœ‹åˆ°ä¸€ç¯‡éå¸¸ä¸é”™çš„æ–‡ç« ï¼Œè§‚ç‚¹ç‹¬åˆ°ï¼Œè®ºè¿°æ¸…æ™°ï¼Œå¿ä¸ä½è¦åˆ†äº«ç»™å¤§å®¶ã€‚å¸Œæœ›å¤§å®¶ä¹Ÿèƒ½ä»ä¸­è·å¾—å¯å‘å’Œæ”¶è·ã€‚',
          'è½¬è½½ä¸€äº›æˆ‘è®¤ä¸ºæœ‰ä»·å€¼çš„å†…å®¹ï¼ŒåŒ…æ‹¬æŠ€æœ¯æ–‡ç« ã€æ€è€ƒæ„Ÿæ‚Ÿã€è¡Œä¸šè§‚å¯Ÿç­‰ã€‚æ¯ä¸€ç¯‡éƒ½æ˜¯ç»è¿‡ç­›é€‰çš„ä¼˜è´¨å†…å®¹ã€‚',
          'äº’è”ç½‘ä¸Šæœ‰å¾ˆå¤šä¼˜ç§€çš„å†…å®¹åˆ›ä½œè€…ï¼Œä»–ä»¬çš„æ–‡ç« å’Œè§‚ç‚¹å€¼å¾—è¢«æ›´å¤šäººçœ‹åˆ°ã€‚ä»Šå¤©è½¬è½½åˆ†äº«å‡ ç¯‡å¥½æ–‡ã€‚',
          'é˜…è¯»å’Œåˆ†äº«æ˜¯å­¦ä¹ çš„é‡è¦æ–¹å¼ï¼Œé€šè¿‡è½¬è½½ä¼˜è´¨å†…å®¹ï¼Œå¸Œæœ›èƒ½å¤Ÿä¿ƒè¿›æ›´å¤šçš„äº¤æµå’Œè®¨è®ºã€‚'
        ]
      },
      'aitools': {
        name: 'AIå·¥å…·',
        tags: ['AI', 'äººå·¥æ™ºèƒ½', 'å·¥å…·', 'æ•ˆç‡', 'è‡ªåŠ¨åŒ–', 'æœºå™¨å­¦ä¹ ', 'æŠ€æœ¯', 'åˆ›æ–°'],
        titles: [
          'AIå·¥å…·æ¨èï¼šè¿™äº›å·¥å…·æ”¹å˜äº†æˆ‘çš„å·¥ä½œæ–¹å¼',
          'ChatGPTä½¿ç”¨æŠ€å·§åˆ†äº«',
          'AIç»˜ç”»å·¥å…·ä½“éªŒï¼Œåˆ›æ„æ— é™',
          'è‡ªåŠ¨åŒ–å·¥ä½œæµï¼šAIå·¥å…·çš„å®é™…åº”ç”¨',
          'AIå†™ä½œåŠ©æ‰‹ï¼Œæå‡å†…å®¹åˆ›ä½œæ•ˆç‡',
          'æœºå™¨å­¦ä¹ å·¥å…·æ¨èï¼Œå…¥é—¨å¿…å¤‡',
          'AIä»£ç åŠ©æ‰‹ä½¿ç”¨å¿ƒå¾—',
          'è¯­éŸ³AIå·¥å…·æµ‹è¯„ï¼Œè§£æ”¾åŒæ‰‹',
          'AIè®¾è®¡å·¥å…·ï¼Œè®©åˆ›æ„æ›´å®¹æ˜“å®ç°',
          'æœªæ¥å·²æ¥ï¼šAIå·¥å…·çš„å‘å±•è¶‹åŠ¿'
        ],
        contents: [
          'AIæŠ€æœ¯çš„å‘å±•ä¸ºæˆ‘ä»¬å¸¦æ¥äº†å¾ˆå¤šå®ç”¨çš„å·¥å…·ï¼Œè¿™äº›å·¥å…·ä¸ä»…æå‡äº†å·¥ä½œæ•ˆç‡ï¼Œè¿˜å¼€æ‹“äº†æ–°çš„å¯èƒ½æ€§ã€‚åˆ†äº«ä¸€äº›æˆ‘ä½¿ç”¨è¿‡çš„ä¼˜ç§€AIå·¥å…·ã€‚',
          'äººå·¥æ™ºèƒ½æ­£åœ¨æ”¹å˜æˆ‘ä»¬çš„å·¥ä½œå’Œç”Ÿæ´»æ–¹å¼ï¼Œè¶Šæ¥è¶Šå¤šçš„AIå·¥å…·æ¶Œç°å‡ºæ¥ã€‚ä»Šå¤©æ¨èä¸€äº›æˆ‘è®¤ä¸ºç‰¹åˆ«æœ‰ç”¨çš„AIåº”ç”¨ã€‚',
          'ä»æ–‡æœ¬ç”Ÿæˆåˆ°å›¾åƒåˆ›ä½œï¼Œä»ä»£ç ç¼–å†™åˆ°æ•°æ®åˆ†æï¼ŒAIå·¥å…·çš„åº”ç”¨åœºæ™¯è¶Šæ¥è¶Šå¹¿æ³›ã€‚åˆ†äº«ä¸€äº›å®ç”¨çš„AIå·¥å…·ä½¿ç”¨ç»éªŒã€‚',
          'AIä¸æ˜¯è¦æ›¿ä»£äººç±»ï¼Œè€Œæ˜¯è¦å¸®åŠ©äººç±»æ›´å¥½åœ°å·¥ä½œå’Œåˆ›é€ ã€‚é€šè¿‡åˆç†ä½¿ç”¨AIå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ›´å¤šæ—¶é—´æŠ•å…¥åˆ°çœŸæ­£æœ‰ä»·å€¼çš„äº‹æƒ…ä¸Šã€‚'
        ]
      },
      'selfbuilt': {
        name: 'è‡ªå»ºé¡¹ç›®',
        tags: ['è‡ªå»º', 'é¡¹ç›®', 'å¼€å‘', 'æ­å»º', 'æœåŠ¡', 'éƒ¨ç½²', 'è¿ç»´', 'å®è·µ'],
        titles: [
          'è‡ªå»ºåšå®¢ç³»ç»Ÿï¼Œä»é›¶å¼€å§‹çš„å®Œæ•´è®°å½•',
          'å®¶åº­NASæ­å»ºç»éªŒåˆ†äº«',
          'ä¸ªäººç½‘ç«™å»ºè®¾å…¨è¿‡ç¨‹',
          'è‡ªå»ºäº‘ç›˜æœåŠ¡ï¼Œæ•°æ®å®‰å…¨æŒæ§',
          'Dockerå®¹å™¨åŒ–éƒ¨ç½²å®è·µ',
          'è‡ªåŠ¨åŒ–éƒ¨ç½²æµç¨‹æ­å»º',
          'ç›‘æ§ç³»ç»Ÿè‡ªå»ºæ–¹æ¡ˆ',
          'ä¸ªäººé¡¹ç›®ä¸Šçº¿å…¨è®°å½•',
          'æœåŠ¡å™¨é…ç½®å’Œä¼˜åŒ–ç»éªŒ',
          'ä»æƒ³æ³•åˆ°å®ç°ï¼šé¡¹ç›®å¼€å‘æ—¥è®°'
        ],
        contents: [
          'æœ€è¿‘å®Œæˆäº†ä¸€ä¸ªè‡ªå»ºé¡¹ç›®ï¼Œä»éœ€æ±‚åˆ†æåˆ°æŠ€æœ¯é€‰å‹ï¼Œä»å¼€å‘å®ç°åˆ°éƒ¨ç½²ä¸Šçº¿ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½å¾ˆæœ‰æ”¶è·ã€‚ä»Šå¤©åˆ†äº«ä¸€ä¸‹å®Œæ•´çš„ç»éªŒã€‚',
          'è‡ªå»ºé¡¹ç›®ä¸ä»…èƒ½å¤Ÿæ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œè¿˜èƒ½åœ¨å®è·µä¸­å­¦åˆ°å¾ˆå¤šçŸ¥è¯†ã€‚è®°å½•ä¸€ä¸‹è¿™æ¬¡é¡¹ç›®çš„æŠ€æœ¯éš¾ç‚¹å’Œè§£å†³æ–¹æ¡ˆã€‚',
          'åˆ†äº«ä¸€äº›è‡ªå»ºé¡¹ç›®çš„å¿ƒå¾—ä½“ä¼šï¼ŒåŒ…æ‹¬æŠ€æœ¯é€‰æ‹©ã€æ¶æ„è®¾è®¡ã€éƒ¨ç½²è¿ç»´ç­‰å„ä¸ªç¯èŠ‚çš„ç»éªŒæ€»ç»“ã€‚',
          'ä»æƒ³æ³•åˆ°å®ç°ï¼Œæ¯ä¸€ä¸ªè‡ªå»ºé¡¹ç›®éƒ½æ˜¯ä¸€æ¬¡å®Œæ•´çš„å­¦ä¹ è¿‡ç¨‹ã€‚ä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«è¿™ä¸ªé¡¹ç›®èƒŒåçš„æ•…äº‹å’ŒæŠ€æœ¯ç»†èŠ‚ã€‚'
        ]
      },
      'upfollow': {
        name: 'upå…³æ³¨',
        tags: ['UPä¸»', 'å…³æ³¨', 'æ¨è', 'å†…å®¹', 'åˆ›ä½œè€…', 'è§†é¢‘', 'å­¦ä¹ ', 'åˆ†äº«'],
        titles: [
          'æ¨èå‡ ä¸ªå€¼å¾—å…³æ³¨çš„æŠ€æœ¯UPä¸»',
          'è¿™äº›UPä¸»çš„å†…å®¹è´¨é‡çœŸçš„å¾ˆé«˜',
          'å­¦ä¹ å‘UPä¸»æ¨èï¼Œå¹²è´§æ»¡æ»¡',
          'è®¾è®¡ç±»UPä¸»åˆ†äº«ï¼Œåˆ›æ„æ— é™',
          'ç”Ÿæ´»æ–¹å¼UPä¸»ï¼Œæ²»æ„ˆç³»å†…å®¹',
          'ç¼–ç¨‹æ•™å­¦UPä¸»ï¼Œæ–°æ‰‹å‹å¥½',
          'ç§‘æŠ€æ•°ç UPä¸»ï¼Œå‰æ²¿èµ„è®¯',
          'è¯»ä¹¦åˆ†äº«UPä¸»ï¼ŒçŸ¥è¯†ä¼ é€’',
          'æ‰‹å·¥DIY UPä¸»ï¼Œåˆ›æ„å®ç”¨',
          'æ‘„å½±æ•™ç¨‹UPä¸»ï¼ŒæŠ€å·§åˆ†äº«'
        ],
        contents: [
          'æœ€è¿‘å‘ç°äº†å‡ ä¸ªéå¸¸ä¸é”™çš„UPä¸»ï¼Œä»–ä»¬çš„å†…å®¹è´¨é‡å¾ˆé«˜ï¼Œæ›´æ–°ä¹Ÿå¾ˆç¨³å®šã€‚ä»Šå¤©æ¨èç»™å¤§å®¶ï¼Œå¸Œæœ›å¤§å®¶ä¹Ÿä¼šå–œæ¬¢ã€‚',
          'ä¼˜è´¨çš„å†…å®¹åˆ›ä½œè€…å€¼å¾—è¢«æ›´å¤šäººå…³æ³¨å’Œæ”¯æŒã€‚åˆ†äº«ä¸€äº›æˆ‘é•¿æœŸå…³æ³¨çš„UPä¸»ï¼Œä»–ä»¬çš„å†…å®¹éƒ½å¾ˆæœ‰ä»·å€¼ã€‚',
          'åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œæ‰¾åˆ°ä¼˜è´¨çš„å†…å®¹æºéå¸¸é‡è¦ã€‚æ¨èä¸€äº›æˆ‘è®¤ä¸ºå€¼å¾—å…³æ³¨çš„UPä¸»å’Œåˆ›ä½œè€…ã€‚',
          'å¥½çš„UPä¸»ä¸ä»…èƒ½æä¾›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œè¿˜èƒ½å¸¦æ¥æ–°çš„æ€è€ƒå’Œå¯å‘ã€‚ä»Šå¤©æ•´ç†äº†ä¸€ä»½æˆ‘çš„å…³æ³¨æ¸…å•åˆ†äº«ç»™å¤§å®¶ã€‚'
        ]
      },
      'todo': {
        name: 'å¾…åŠé¡¹ç›®',
        tags: ['å¾…åŠ', 'è®¡åˆ’', 'é¡¹ç›®', 'ç›®æ ‡', 'è§„åˆ’', 'è¿›åº¦', 'ç®¡ç†', 'æé†’'],
        titles: [
          '2024å¹´åº¦é¡¹ç›®è®¡åˆ’ï¼Œè¿™äº›äº‹æƒ…è¦å®Œæˆ',
          'å¾…åŠæ¸…å•æ•´ç†ï¼Œä¼˜å…ˆçº§æ’åº',
          'é¡¹ç›®è¿›åº¦æ›´æ–°ï¼Œå®Œæˆæƒ…å†µæ±‡æŠ¥',
          'å­¦ä¹ è®¡åˆ’åˆ¶å®šï¼Œç³»ç»Ÿæ€§æå‡',
          'ä¸ªäººç›®æ ‡è®¾å®šï¼Œæ–°çš„æŒ‘æˆ˜',
          'é¡¹ç›®ç®¡ç†å¿ƒå¾—ï¼Œæå‡æ‰§è¡ŒåŠ›',
          'æ—¶é—´ç®¡ç†æŠ€å·§ï¼Œé«˜æ•ˆå®Œæˆä»»åŠ¡',
          'å¾…åŠäº‹é¡¹å›é¡¾ï¼Œç»éªŒæ€»ç»“',
          'ç›®æ ‡è¾¾æˆæ–¹æ³•ï¼ŒæŒç»­æ”¹è¿›',
          'é¡¹ç›®è§„åˆ’æ¨¡æ¿ï¼Œæå‡æ•ˆç‡'
        ],
        contents: [
          'æ–°çš„ä¸€å¹´å¼€å§‹äº†ï¼Œæ˜¯æ—¶å€™æ•´ç†ä¸€ä¸‹å¾…åŠçš„é¡¹ç›®å’Œè®¡åˆ’äº†ã€‚è®¾å®šæ¸…æ™°çš„ç›®æ ‡å’Œæ—¶é—´èŠ‚ç‚¹ï¼Œè®©æ¯ä¸€ä¸ªæƒ³æ³•éƒ½èƒ½è½åœ°å®ç°ã€‚',
          'é¡¹ç›®ç®¡ç†æ˜¯ä¸€é—¨å­¦é—®ï¼Œå¦‚ä½•åˆç†å®‰æ’æ—¶é—´å’Œèµ„æºï¼Œå¦‚ä½•è·Ÿè¸ªè¿›åº¦å’Œè´¨é‡ï¼Œéƒ½éœ€è¦ä¸æ–­çš„å­¦ä¹ å’Œå®è·µã€‚',
          'åˆ†äº«ä¸€äº›æˆ‘åœ¨é¡¹ç›®ç®¡ç†å’Œæ—¶é—´ç®¡ç†æ–¹é¢çš„ç»éªŒï¼ŒåŒ…æ‹¬å·¥å…·ä½¿ç”¨ã€æ–¹æ³•è®ºåº”ç”¨ã€ä»¥åŠä¸€äº›å®ç”¨çš„æŠ€å·§ã€‚',
          'å¾…åŠä¸æ˜¯å‹åŠ›ï¼Œè€Œæ˜¯å‰è¿›çš„æ–¹å‘ã€‚é€šè¿‡åˆç†çš„è§„åˆ’å’Œæ‰§è¡Œï¼Œæ¯ä¸€ä¸ªå¾…åŠé¡¹ç›®éƒ½èƒ½æˆä¸ºæˆé•¿è·¯ä¸Šçš„é‡Œç¨‹ç¢‘ã€‚'
        ]
      }
    };

    this.usernames = ['äº‘é²¸æ¼«æ¸¸', 'èŠ‹åœ†å°ç”œé¥¼', 'æ™šé£æ‰‘æ»¡æ€€', 'é›¾å²›å¬é£', 'æ˜Ÿå­æ‰“çƒŠäº†', 'æ˜¥æ—¥éƒ¨å¹²äº‹', 'å¥¶æ²¹å°æ–¹', 'å±±æœˆè®°', 'åŠç³–å»å†°', 'æ•æ˜Ÿæ²³å…¥æ¢¦', 'æ ‘å½±æ‘‡çª—', 'æ±½æ°´å†’æ³¡', 'ç¢ç¢ å¿µå°è®°', 'ç›ç³»å°é‡çŒ«', 'è´©å–æ—¥è½', 'è“çƒ¦æ¼', 'ç„¦ç³–ç›å¥‡æœµ', 'é›¨åœäº†å°±èµ°', 'åŒ—å²›è¿·é€”', 'å°æ¡ƒæ±½æ³¡', 'é’æŸ ä¸ƒåˆ†ç”œ', 'é›¾æ•£ è§å±±', 'å¤å¤œæ™šé£', 'ä¸€å£åƒæ‰æœˆäº®', 'æ—é—´å°ç­‘', 'å¿µå®‰', 'å¥¶èŠ™æ³¡èŠ™', 'æ˜Ÿæ²³æ¬²è½¬', 'å—é£çŸ¥æˆ‘æ„', 'å°æ¢¨æ¶¡', 'æ©˜è‰²æ™šéœ', 'è–„è·å¾®å…‰', 'å±±èŒ¶èŠ±è¯»ä¸æ‡‚ç™½ç«ç‘°', 'æœˆè½æ˜Ÿæ²‰', 'å°ç†Šè½¯ç³–', 'å²›ä¸å¹•æ­Œ', 'é£æ‹‚è¿‡è£™æ‘†', 'æ‹¾å…‰è€…', 'èŠ‹æ³¥å•µå•µ', 'é›¾æ¼«å—å±±', 'åŠçª—ç–å½±', 'è½¯é£æ²‰é†‰', 'ç”œåº¦è¶…æ ‡', 'è½æ—¥æ”¶è—å®¶', 'ç¢æ˜Ÿå…¥æ€€', 'æ¸…ç²¥é…å°èœ', 'äº‘æ·±ä¸çŸ¥å¤„', 'æ™šé£å¯„ä¿¡', 'é’è¡«ä»—å‰‘', 'å°æ˜¥æ—¥å’Œ'];
    this.locations = ['åŒ—äº¬', 'ä¸Šæµ·', 'å¹¿å·', 'æ·±åœ³', 'æ­å·', 'æˆéƒ½', 'é‡åº†', 'è¥¿å®‰', 'å—äº¬', 'æ­¦æ±‰', 'å¤©æ´¥', 'è‹å·', 'é•¿æ²™', 'éƒ‘å·', 'é’å²›', 'å¤§è¿', 'å¦é—¨', 'ç¦å·', 'æ˜†æ˜', 'è´µé˜³', 'å—å®', 'æµ·å£', 'ä¸‰äºš', 'æ‹‰è¨', 'ä¹Œé²æœ¨é½', 'é“¶å·', 'è¥¿å®', 'å…°å·', 'å‘¼å’Œæµ©ç‰¹', 'å“ˆå°”æ»¨', 'é•¿æ˜¥', 'æ²ˆé˜³', 'çŸ³å®¶åº„', 'å¤ªåŸ', 'æµå—', 'åˆè‚¥', 'å—æ˜Œ', 'æ¸©å·', 'å®æ³¢', 'æ— é”¡', 'å¸¸å·', 'å¾å·', 'æ‰¬å·', 'é•‡æ±Ÿ', 'æ³°å·', 'ç›åŸ', 'æ·®å®‰', 'è¿äº‘æ¸¯', 'å®¿è¿', 'å˜‰å…´'];
  }

  //ç”Ÿæˆéšæœºå›¾ç‰‡URLï¼ˆç”¨äºç¬”è®°å›¾ç‰‡ï¼‰
  // ä»æ–‡ä»¶åŠ è½½é“¾æ¥
  loadLinksFromFile(filename) {
    try {
      const filePath = path.join(__dirname, filename);
      const content = fs.readFileSync(filePath, 'utf8');
      return content.trim().split('\n').filter(link => link.trim());
    } catch (error) {
      console.error(`è¯»å–æ–‡ä»¶ ${filename} å¤±è´¥:`, error);
      return [];
    }
  }

  generateRandomImageUrl() {
    const randomIndex = Math.floor(Math.random() * this.imageLinks.length);
    return this.imageLinks[randomIndex];
  }

  //ç”Ÿæˆéšæœºå¤´åƒURL
  generateRandomAvatarUrl() {
    const randomIndex = Math.floor(Math.random() * this.avatarLinks.length);
    return this.avatarLinks[randomIndex];
  }

  // å»¶è¿Ÿå‡½æ•°
  delay(ms) {
    return new Promise(resolve => setTimeout(resolve, ms));
  }

  // æ¸…ç©ºæ•°æ®åº“è¡¨æ•°æ®
  async clearTables(connection) {
    console.log(' æ¸…ç©ºç°æœ‰æ•°æ®...');
    await connection.execute('SET FOREIGN_KEY_CHECKS = 0');

    const tables = [
      'user_sessions', 'notifications', 'comments', 'collections',
      'likes', 'post_tags', 'follows', 'post_images', 'posts',
      'tags', 'users', 'admin'
    ];

    for (const table of tables) {
      try {
        await connection.execute(`TRUNCATE TABLE ${table}`);
        console.log(`     å·²æ¸…ç©º ${table} è¡¨`);
      } catch (error) {
        if (!error.message.includes("doesn't exist")) {
          console.warn(`   âš ï¸ æ¸…ç©º ${table} è¡¨å¤±è´¥: ${error.message}`);
        }
      }
    }

    await connection.execute('SET FOREIGN_KEY_CHECKS = 1');
    console.log('æ•°æ®æ¸…ç©ºå®Œæˆ');
  }

  //ç”Ÿæˆç®¡ç†å‘˜æ•°æ®
  generateAdmins() {
    return [
      { username: 'admin', password: '123456' },
      { username: 'admin2', password: '123456' },
      { username: 'admin3', password: '123456' }
    ];
  }

  // æ’å…¥ç®¡ç†å‘˜æ•°æ®ï¼ˆå¯†ç ä½¿ç”¨SHA2å“ˆå¸ŒåŠ å¯†ï¼‰
  async insertAdmins(connection, admins) {
    for (const admin of admins) {
      await connection.execute(
        'INSERT INTO admin (username, password) VALUES (?, SHA2(?, 256))',
        [admin.username, admin.password]
      );
    }
    console.log(`     å·²æ’å…¥ ${admins.length} ä¸ªç®¡ç†å‘˜è´¦æˆ·`);
  }

  // æ’å…¥ç”¨æˆ·æ•°æ®ï¼ˆå¯†ç ä½¿ç”¨SHA2å“ˆå¸ŒåŠ å¯†ï¼‰
  async insertUsers(connection, users) {
    for (const user of users) {
      const result = await connection.execute(
        'INSERT INTO users (user_id, password, nickname, avatar, bio, location, follow_count, fans_count, like_count, is_active, last_login_at, gender, zodiac_sign, mbti, education, major, interests) VALUES (?, SHA2(?, 256), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)',
        [user.user_id, user.password, user.nickname, user.avatar, user.bio, user.location, 0, 0, 0, user.is_active, user.last_login_at, user.gender, user.zodiac_sign, user.mbti, user.education, user.major, user.interests]
      );
      // æ›´æ–°ç”¨æˆ·å¯¹è±¡çš„idå­—æ®µä¸ºæ•°æ®åº“è‡ªå¢id
      user.id = result[0].insertId;
      await this.delay(50);
    }
    console.log(`     å·²æ’å…¥ ${users.length} ä¸ªç”¨æˆ·`);
  }

  // æ’å…¥æ ‡ç­¾æ•°æ®
  async insertTags(connection, tags) {
    for (const tag of tags) {
      await connection.execute(
        'INSERT INTO tags (name, use_count) VALUES (?, ?)',
        [tag.name, 0]
      );
    }
    console.log(`     å·²æ’å…¥ ${tags.length} ä¸ªæ ‡ç­¾`);
  }

  // æ’å…¥ç¬”è®°æ•°æ®
  async insertPosts(connection, posts) {
    for (const post of posts) {
      await connection.execute(
        'INSERT INTO posts (user_id, title, content, category, is_draft, view_count, like_count, collect_count, comment_count) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)',
        [post.user_id, post.title, post.content, post.category, post.is_draft, post.view_count, 0, 0, 0]
      );
      await this.delay(50);
    }
    console.log(`     å·²æ’å…¥ ${posts.length} ä¸ªç¬”è®°`);
  }

  // æ’å…¥ç¬”è®°å›¾ç‰‡æ•°æ®
  async insertPostImages(connection, postImages) {
    for (const image of postImages) {
      await connection.execute(
        'INSERT INTO post_images (post_id, image_url) VALUES (?, ?)',
        [image.post_id, image.image_url]
      );
      await this.delay(30);
    }
    console.log(`     å·²æ’å…¥ ${postImages.length} ä¸ªç¬”è®°å›¾ç‰‡`);
  }



  // æ’å…¥å…³æ³¨å…³ç³»æ•°æ®å¹¶æ›´æ–°ç”¨æˆ·ç»Ÿè®¡
  async insertFollowsWithStats(connection, follows, userCount) {
    const userFollowStats = {}; // ç”¨æˆ·å…³æ³¨ç»Ÿè®¡
    const userFansStats = {}; // ç”¨æˆ·ç²‰ä¸ç»Ÿè®¡

    // åˆå§‹åŒ–ç»Ÿè®¡
    for (let i = 1; i <= userCount; i++) {
      userFollowStats[i] = 0;
      userFansStats[i] = 0;
    }

    // æ’å…¥å…³æ³¨å…³ç³»å¹¶ç»Ÿè®¡
    for (const follow of follows) {
      await connection.execute(
        'INSERT INTO follows (follower_id, following_id) VALUES (?, ?)',
        [follow.follower_id, follow.following_id]
      );

      // æ›´æ–°ç»Ÿè®¡
      userFollowStats[follow.follower_id]++;
      userFansStats[follow.following_id]++;
    }

    // æ›´æ–°ç”¨æˆ·å…³æ³¨å’Œç²‰ä¸æ•°
    for (let userId = 1; userId <= userCount; userId++) {
      await connection.execute(
        'UPDATE users SET follow_count = ?, fans_count = ? WHERE id = ?',
        [userFollowStats[userId], userFansStats[userId], userId]
      );
    }

    console.log(`     å·²æ’å…¥ ${follows.length} ä¸ªå…³æ³¨å…³ç³»å¹¶æ›´æ–°ç”¨æˆ·ç»Ÿè®¡`);
  }

  //ç”Ÿæˆéšæœºç”¨æˆ·æ•°æ®
  generateUsers(count = 50) {
    const users = [];
    const bios = [
      'çƒ­çˆ±ç”Ÿæ´»ï¼Œè®°å½•ç¾å¥½ç¬é—´ âœ¨',
      'ä¸€ä¸ªçˆ±ç¬‘çš„å¥³å­©å­ï¼Œåˆ†äº«æ—¥å¸¸å°ç¡®å¹¸ ğŸ˜Š',
      'å­¦ç”Ÿå…š | çˆ±å­¦ä¹ çˆ±ç”Ÿæ´» ğŸ“š',
      'æ‘„å½±çˆ±å¥½è€… | ç”¨é•œå¤´è®°å½•ä¸–ç•Œ ğŸ“·',
      'ç¾é£Ÿæ¢ç´¢è€… | åƒéå¤©ä¸‹ç¾é£Ÿ ğŸœ',
      'æ—…è¡Œè¾¾äºº | ä¸–ç•Œé‚£ä¹ˆå¤§ï¼Œæˆ‘æƒ³å»çœ‹çœ‹ âœˆï¸',
      'æ‰‹å·¥çˆ±å¥½è€… | ç”¨åŒæ‰‹åˆ›é€ ç¾å¥½ ğŸ¨',
      'è¯»ä¹¦äºº | ä¹¦ä¸­è‡ªæœ‰é»„é‡‘å±‹ ğŸ“–',
      'éŸ³ä¹å‘çƒ§å‹ | ç”Ÿæ´»éœ€è¦BGM ğŸµ',
      'å¥èº«å°è¾¾äºº | è‡ªå¾‹ç»™æˆ‘è‡ªç”± ğŸ’ª',
      'å® ç‰©å¥´æ‰ | æˆ‘å®¶ä¸»å­æœ€å¯çˆ± ğŸ±',
      'æ¤ç‰©å¦ˆå¦ˆ | å’Œç»¿æ¤ä¸€èµ·æˆé•¿ ğŸŒ±',
      'å’–å•¡æ§ | æ²¡æœ‰å’–å•¡çš„æ—¥å­ä¸å®Œæ•´ â˜•',
      'ç”µå½±è¿· | å…‰å½±ä¸–ç•Œçš„æ¢ç´¢è€… ğŸ¬',
      'æ¸¸æˆç©å®¶ | è™šæ‹Ÿä¸–ç•Œçš„å†’é™©å®¶ ğŸ®',
      'äºŒæ¬¡å…ƒå°‘å¥³ | æ°¸è¿œ18å² ğŸŒ¸',
      'å¤é£çˆ±å¥½è€… | æ„¿å¾—ä¸€äººå¿ƒï¼Œç™½é¦–ä¸ç›¸ç¦» ğŸ®',
      'ç§‘æŠ€æ§ | è¿½æ±‚æå®¢ç²¾ç¥ ğŸ’»',
      'ç†è´¢å°ç™½ | åŠªåŠ›å®ç°è´¢åŠ¡è‡ªç”± ğŸ’°',
      'åˆ›ä¸šè€… | æ¢¦æƒ³è¿˜æ˜¯è¦æœ‰çš„ ğŸš€',
      'è®¾è®¡å¸ˆ | ç”¨è®¾è®¡æ”¹å˜ä¸–ç•Œ ğŸ¨',
      'ç¨‹åºå‘˜ | ä»£ç æ”¹å˜ä¸–ç•Œ ğŸ‘¨â€ğŸ’»',
      'æ•™å¸ˆ | ä¼ é“æˆä¸šè§£æƒ‘ ğŸ‘©â€ğŸ«',
      'åŒ»å­¦ç”Ÿ | æ•‘æ­»æ‰¶ä¼¤æ˜¯ä½¿å‘½ ğŸ‘©â€âš•ï¸',
      'æ³•å­¦ç”Ÿ | æ­£ä¹‰æ°¸ä¸ç¼ºå¸­ âš–ï¸',
      'å¿ƒç†å­¦çˆ±å¥½è€… | æ¢ç´¢å†…å¿ƒä¸–ç•Œ ğŸ§ ',
      'ç¯ä¿ä¸»ä¹‰è€… | ä¿æŠ¤åœ°çƒä»æˆ‘åšèµ· ğŸŒ',
      'æç®€ä¸»ä¹‰è€… | å°‘å³æ˜¯å¤š âœ¨',
      'æ”¶çº³è¾¾äºº | æ•´ç†æ”¹å˜ç”Ÿæ´» ğŸ“¦',
      'çƒ˜ç„™çˆ±å¥½è€… | ç”œèœœç”Ÿæ´»çš„åˆ›é€ è€… ğŸ§',
      'ç‘œä¼½ç»ƒä¹ è€… | èº«å¿ƒåˆä¸€çš„ä¿®è¡Œ ğŸ§˜â€',
      'è·‘æ­¥çˆ±å¥½è€… | å¥”è·‘æ˜¯æœ€å¥½çš„ä¿®è¡Œ ğŸƒâ€â™€ï¸',
      'ä¹¦æ³•çˆ±å¥½è€… | ä¸€ç¬”ä¸€åˆ’çš†ä¿®è¡Œ âœï¸',
      'èŒ¶è‰ºçˆ±å¥½è€… | å“èŒ¶å“äººç”Ÿ ğŸµ',
      'èŠ±è‰ºå¸ˆ | ç”¨èŠ±æœµè£…ç‚¹ç”Ÿæ´» ğŸ’',
      'æ’ç”»å¸ˆ | ç”¨ç”»ç¬”è¯‰è¯´æ•…äº‹ ğŸ–Œï¸',
      'è‡ªç”±æ’°ç¨¿äºº | æ–‡å­—æ˜¯æˆ‘çš„æ­¦å™¨ âœ’ï¸',
      'ç¿»è¯‘å·¥ä½œè€… | è¯­è¨€çš„æ¡¥æ¢ ğŸŒ',
      'å¿—æ„¿è€… | ç”¨çˆ±å¿ƒæ¸©æš–ä¸–ç•Œ â¤ï¸',
      'ç‹¬ç«‹æ€è€ƒè€… | ä¿æŒç†æ€§ä¸æ‰¹åˆ¤ ğŸ¤”',
      'ç»ˆèº«å­¦ä¹ è€… | æ´»åˆ°è€å­¦åˆ°è€ ğŸ“š',
      'æ—¶é—´ç®¡ç†è¾¾äºº | æ•ˆç‡å°±æ˜¯ç”Ÿå‘½ â°',
      'æ–­èˆç¦»è·µè¡Œè€… | ç®€å•ç”Ÿæ´»æ›´è‡ªç”± ğŸ•Šï¸',
      'æ­£èƒ½é‡ä¼ æ’­è€… | åšè‡ªå·±çš„å¤ªé˜³ â˜€ï¸',
      'æ¢¦æƒ³è¿½é€è€… | æ°¸è¿œå¹´è½»ï¼Œæ°¸è¿œçƒ­æ³ªç›ˆçœ¶ ğŸŒŸ',
      'ç”Ÿæ´»ç¾å­¦å®¶ | æŠŠæ—¥å­è¿‡æˆè¯— ğŸŒº',
      'æƒ…æ„Ÿåšä¸» | ç”¨æ–‡å­—æ²»æ„ˆå¿ƒçµ ğŸ’',
      'çŸ¥è¯†åˆ†äº«è€… | åˆ†äº«è®©çŸ¥è¯†æ›´æœ‰ä»·å€¼ ğŸ“',
      'æ¸©æŸ”çš„äºº | æ„¿ä¸–ç•Œæ¸©æŸ”ä»¥å¾… ğŸ¤—',
      'åŠªåŠ›ç”Ÿæ´»çš„æ™®é€šäºº | å¹³å‡¡è€Œä¸å¹³åº¸ ğŸŒˆ'
    ];

    // 6å¤§ä¿¡æ¯çš„é€‰é¡¹æ± 
    const genders = ['male', 'female'];
    const zodiacSigns = ['ç™½ç¾Šåº§', 'é‡‘ç‰›åº§', 'åŒå­åº§', 'å·¨èŸ¹åº§', 'ç‹®å­åº§', 'å¤„å¥³åº§', 'å¤©ç§¤åº§', 'å¤©èåº§', 'å°„æ‰‹åº§', 'æ‘©ç¾¯åº§', 'æ°´ç“¶åº§', 'åŒé±¼åº§'];
    const mbtiTypes = ['INTJ', 'INTP', 'ENTJ', 'ENTP', 'INFJ', 'INFP', 'ENFJ', 'ENFP', 'ISTJ', 'ISFJ', 'ESTJ', 'ESFJ', 'ISTP', 'ISFP', 'ESTP', 'ESFP'];
    const educations = ['é«˜ä¸­', 'å¤§ä¸“', 'æœ¬ç§‘', 'ç¡•å£«', 'åšå£«'];
    const majors = ['è®¡ç®—æœºç§‘å­¦', 'è½¯ä»¶å·¥ç¨‹', 'ç”µå­ä¿¡æ¯', 'æœºæ¢°å·¥ç¨‹', 'åœŸæœ¨å·¥ç¨‹', 'å»ºç­‘å­¦', 'ç»æµå­¦', 'é‡‘èå­¦', 'ä¼šè®¡å­¦', 'å¸‚åœºè¥é”€', 'å·¥å•†ç®¡ç†', 'äººåŠ›èµ„æº', 'æ³•å­¦', 'æ–°é—»ä¼ æ’­', 'æ±‰è¯­è¨€æ–‡å­¦', 'è‹±è¯­', 'å¿ƒç†å­¦', 'æ•™è‚²å­¦', 'åŒ»å­¦', 'æŠ¤ç†å­¦', 'è¯å­¦', 'ç”Ÿç‰©å­¦', 'åŒ–å­¦', 'ç‰©ç†å­¦', 'æ•°å­¦', 'è‰ºæœ¯è®¾è®¡', 'éŸ³ä¹', 'ç¾æœ¯', 'ä½“è‚²'];
    const interestOptions = ['é˜…è¯»', 'ç”µå½±', 'éŸ³ä¹', 'æ—…è¡Œ', 'æ‘„å½±', 'ç¾é£Ÿ', 'å¥èº«', 'æ¸¸æˆ', 'ç»˜ç”»', 'ä¹¦æ³•', 'èˆè¹ˆ', 'å”±æ­Œ', 'ä¹å™¨', 'ç¼–ç¨‹', 'è®¾è®¡', 'å†™ä½œ', 'æ‰‹å·¥', 'å›­è‰º', 'å® ç‰©', 'æ”¶è—', 'è¿åŠ¨', 'ç‘œä¼½', 'å†¥æƒ³', 'çƒ¹é¥ª', 'çƒ˜ç„™', 'èŒ¶è‰º', 'å’–å•¡', 'çº¢é…’', 'æ—¶å°š', 'åŒ–å¦†', 'æŠ¤è‚¤', 'è´­ç‰©', 'æŠ•èµ„', 'åˆ›ä¸š', 'å¿—æ„¿æœåŠ¡', 'ç¯ä¿', 'å…¬ç›Š'];

    for (let i = 0; i < count; i++) {
      // éšæœºç”Ÿæˆå…´è¶£ï¼ˆ2-5ä¸ªï¼‰
      const userInterests = [];
      const interestCount = Math.floor(Math.random() * 4) + 2; // 2-5ä¸ªå…´è¶£
      const shuffledInterests = [...interestOptions].sort(() => 0.5 - Math.random());
      for (let j = 0; j < interestCount; j++) {
        userInterests.push(shuffledInterests[j]);
      }

      const user = {
        user_id: `user${String(i + 1).padStart(3, '0')}`, // å°çº¢ä¹¦å·ï¼Œå­—ç¬¦ä¸²æ ¼å¼
        password: '123456', // ä½¿ç”¨æ˜æ–‡å¯†ç 
        nickname: this.usernames[i], // æŒ‰é¡ºåºä½¿ç”¨usernamesæ•°ç»„ï¼Œä¸é‡å¤
        avatar: this.generateRandomAvatarUrl(),
        bio: bios[Math.floor(Math.random() * bios.length)],
        location: this.locations[i], // æŒ‰é¡ºåºä½¿ç”¨locationsæ•°ç»„ï¼Œä¸é‡å¤
        follow_count: Math.floor(Math.random() * 500),
        fans_count: Math.floor(Math.random() * 1000),
        like_count: Math.floor(Math.random() * 5000),
        is_active: 1, // æ·»åŠ is_activeå­—æ®µ
        last_login_at: new Date(Date.now() - Math.floor(Math.random() * 30 * 24 * 60 * 60 * 1000)), // æ·»åŠ last_login_atå­—æ®µï¼ˆéšæœº30å¤©å†…ï¼‰
        // 6å¤§ä¿¡æ¯å­—æ®µï¼ˆ70%æ¦‚ç‡å¡«å†™ï¼Œ30%æ¦‚ç‡ä¸ºç©ºï¼‰
        gender: Math.random() > 0.3 ? genders[Math.floor(Math.random() * genders.length)] : null,
        zodiac_sign: Math.random() > 0.3 ? zodiacSigns[Math.floor(Math.random() * zodiacSigns.length)] : null,
        mbti: Math.random() > 0.3 ? mbtiTypes[Math.floor(Math.random() * mbtiTypes.length)] : null,
        education: Math.random() > 0.3 ? educations[Math.floor(Math.random() * educations.length)] : null,
        major: Math.random() > 0.3 ? majors[Math.floor(Math.random() * majors.length)] : null,
        interests: Math.random() > 0.3 ? JSON.stringify(userInterests) : null
      };
      users.push(user);
    }
    return users;
  }

  //ç”Ÿæˆéšæœºæ ‡ç­¾æ•°æ®
  generateTags() {
    const allTags = [];
    Object.values(this.categoryData).forEach(category => {
      allTags.push(...category.tags);
    });

    // å»é‡å¹¶ç”Ÿæˆæ ‡ç­¾æ•°æ®
    const uniqueTags = [...new Set(allTags)];
    return uniqueTags.map(tag => ({
      name: tag,
      use_count: Math.floor(Math.random() * 200) + 10
    }));
  }

  //ç”Ÿæˆéšæœºç¬”è®°æ•°æ®
  generatePosts(userCount, count = 200) {
    const posts = [];
    for (let i = 0; i < count; i++) {
      const category = this.categories[Math.floor(Math.random() * this.categories.length)];
      const categoryInfo = this.categoryData[category];

      const post = {
        user_id: Math.floor(Math.random() * userCount) + 1,
        title: categoryInfo.titles[Math.floor(Math.random() * categoryInfo.titles.length)],
        content: categoryInfo.contents[Math.floor(Math.random() * categoryInfo.contents.length)],
        category: category, // ä½¿ç”¨è‹±æ–‡åˆ†ç±»å
        is_draft: 0, // çŒè£…æ•°æ®å…¨éƒ¨ä¸ºå·²å‘å¸ƒçŠ¶æ€ï¼ˆ0è¡¨ç¤ºéè‰ç¨¿ï¼‰
        view_count: Math.floor(Math.random() * 10000),
        like_count: Math.floor(Math.random() * 500),
        collect_count: Math.floor(Math.random() * 100),
        comment_count: Math.floor(Math.random() * 50)
      };
      posts.push(post);
    }
    return posts;
  }

  //ç”Ÿæˆç¬”è®°å›¾ç‰‡æ•°æ®
  generatePostImages(postCount, maxImagesPerPost = 5) {
    const images = [];
    for (let postId = 1; postId <= postCount; postId++) {
      const imageCount = Math.floor(Math.random() * maxImagesPerPost) + 1;
      for (let i = 0; i < imageCount; i++) {
        images.push({
          post_id: postId,
          image_url: this.generateRandomImageUrl()
        });
      }
    }
    return images;
  }

  //ç”Ÿæˆå…³æ³¨å…³ç³»æ•°æ®
  generateFollows(userCount, count = 300) {
    const follows = [];
    const used = new Set();

    for (let i = 0; i < count; i++) {
      let follower_id, following_id;
      do {
        follower_id = Math.floor(Math.random() * userCount) + 1;
        following_id = Math.floor(Math.random() * userCount) + 1;
      } while (follower_id === following_id || used.has(`${follower_id}-${following_id}`));

      used.add(`${follower_id}-${following_id}`);
      follows.push({ follower_id, following_id });
    }
    return follows;
  }

  //ç”Ÿæˆç‚¹èµæ•°æ®
  generateLikes(userCount, postCount, commentCount, count = 1000) {
    const likes = [];
    const used = new Set();

    for (let i = 0; i < count; i++) {
      let user_id, target_id;
      const target_type = Math.random() > 0.8 ? 2 : 1; // 80%ç‚¹èµç¬”è®°ï¼Œ20%ç‚¹èµè¯„è®º

      do {
        user_id = Math.floor(Math.random() * userCount) + 1;
        if (target_type === 1) {
          // ç‚¹èµç¬”è®°
          target_id = Math.floor(Math.random() * postCount) + 1;
        } else {
          // ç‚¹èµè¯„è®º
          target_id = Math.floor(Math.random() * commentCount) + 1;
        }
      } while (used.has(`${user_id}-${target_type}-${target_id}`));

      used.add(`${user_id}-${target_type}-${target_id}`);
      likes.push({ user_id, target_type, target_id });
    }
    return likes;
  }

  //ç”Ÿæˆæ”¶è—æ•°æ®
  generateCollections(userCount, postCount, count = 400) {
    const collections = [];
    const used = new Set();

    for (let i = 0; i < count; i++) {
      let user_id, post_id;
      do {
        user_id = Math.floor(Math.random() * userCount) + 1;
        post_id = Math.floor(Math.random() * postCount) + 1;
      } while (used.has(`${user_id}-${post_id}`));

      used.add(`${user_id}-${post_id}`);
      collections.push({ user_id, post_id });
    }
    return collections;
  }

  //ç”Ÿæˆè¯„è®ºæ•°æ®
  generateComments(users, postCount, count = 800) {
    const userCount = users.length;
    const comments = [];
    const commentTexts = [
      // è¡¨è¾¾èµåŒå’Œæ”¯æŒ
      'å¾ˆæ£’çš„åˆ†äº«ï¼', 'å­¦åˆ°äº†å¾ˆå¤š', 'æ„Ÿè°¢åˆ†äº«', 'å¾ˆæœ‰ç”¨çš„å†…å®¹', 'æ”¯æŒæ¥¼ä¸»', 'å†™å¾—å¾ˆå¥½', 'å¾ˆæœ‰å¯å‘', 'æ”¶è—äº†',
      'åŒæ„Ÿ', 'å¾ˆå®ç”¨', 'è°¢è°¢åˆ†äº«', 'å¾ˆæœ‰æ„æ€', 'èµåŒä½ çš„è§‚ç‚¹', 'å¾ˆæœ‰é“ç†', 'å­¦ä¹ äº†', 'å¾ˆæ£’çš„ç»éªŒ',
      'è¯´å¾—å¤ªå¯¹äº†ï¼', 'æ·±æœ‰åŒæ„Ÿ', 'å—ç›ŠåŒªæµ…', 'å¤ªæœ‰ç”¨äº†', 'å¿…é¡»ç‚¹èµ', 'è¯´åˆ°å¿ƒåé‡Œäº†', 'å®Œå…¨åŒæ„',

      // è¡¨è¾¾ç–‘é—®å’Œè®¨è®º
      'æœ‰ä¸ªé—®é¢˜æƒ³è¯·æ•™ä¸€ä¸‹', 'è¿™ä¸ªæ–¹æ³•çœŸçš„æœ‰æ•ˆå—ï¼Ÿ', 'èƒ½è¯¦ç»†è¯´è¯´å—ï¼Ÿ', 'æœ‰æ²¡æœ‰æ›´å¥½çš„å»ºè®®ï¼Ÿ',
      'æˆ‘è§‰å¾—è¿˜å¯ä»¥è¿™æ ·...', 'è¡¥å……ä¸€ç‚¹', 'æˆ‘çš„ç»éªŒæ˜¯...', 'ä¸è¿‡æˆ‘è§‰å¾—...', 'å¦å¤–ä¸€ä¸ªè§’åº¦æ¥çœ‹',
      'æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Ÿ', 'æ±‚æ›´å¤šç»†èŠ‚', 'èƒ½åˆ†äº«ä¸‹å…·ä½“æ“ä½œå—ï¼Ÿ', 'æœ‰ç±»ä¼¼ç»å†',

      // è¡¨è¾¾æ„Ÿè°¢å’Œé¼“åŠ±
      'è°¢è°¢æ¥¼ä¸»çš„åˆ†äº«', 'çœŸçš„å¸®åˆ°æˆ‘äº†', 'æ­£å¥½éœ€è¦è¿™ä¸ª', 'è§£å†³äº†æˆ‘çš„å›°æƒ‘', 'åŠæ—¶é›¨å•Š',
      'æ¥¼ä¸»å¤ªå‰å®³äº†', 'ç»§ç»­åŠ æ²¹', 'æœŸå¾…æ›´å¤šåˆ†äº«', 'å…³æ³¨äº†', 'é©¬å…‹ä¸€ä¸‹',

      // è¡¨è¾¾æƒ…æ„Ÿå…±é¸£
      'å¤ªçœŸå®äº†', 'è¯´å‡ºäº†æˆ‘çš„å¿ƒå£°', 'æ„ŸåŒèº«å—', 'æˆ‘ä¹Ÿæ˜¯è¿™æ ·æƒ³çš„', 'å¼•èµ·å…±é¸£äº†',
      'çœ‹å“­äº†', 'å¤ªæ„ŸåŠ¨äº†', 'å¾ˆæ¸©æš–', 'æ­£èƒ½é‡æ»¡æ»¡', 'å¾ˆæ²»æ„ˆ',

      // æ—¥å¸¸äº’åŠ¨
      'æ²™å‘ï¼', 'å‰æ’æ”¯æŒ', 'æ¥æ™šäº†', 'å›´è§‚å­¦ä¹ ', 'é»˜é»˜ç‚¹èµ', 'è·¯è¿‡ç•™å',
      'é¡¶ä¸€ä¸ª', 'å¥½æ–‡ç« ', 'å€¼å¾—æ”¶è—', 'è½¬å‘äº†', 'åˆ†äº«ç»™æœ‹å‹',

      // å…·ä½“å»ºè®®å’Œè¡¥å……
      'å»ºè®®å¯ä»¥è¯•è¯•...', 'æˆ‘ä¸€èˆ¬ä¼šè¿™æ ·åš', 'è¿˜æœ‰ä¸€ä¸ªå°æŠ€å·§', 'æ³¨æ„è¿™ä¸ªç»†èŠ‚',
      'æˆ‘çš„åšæ³•æ˜¯...', 'æ¨èä¸€ä¸ªå·¥å…·', 'å¯ä»¥å‚è€ƒè¿™ä¸ª', 'ç±»ä¼¼çš„è¿˜æœ‰...',

      // è¡¨è¾¾ä¸åŒè§‚ç‚¹ï¼ˆç¤¼è²Œï¼‰
      'æˆ‘æœ‰ä¸åŒçœ‹æ³•', 'å¯èƒ½å› äººè€Œå¼‚å§', 'æˆ‘çš„æƒ…å†µæœ‰ç‚¹ä¸åŒ', 'ä¹Ÿè®¸è¿˜æœ‰å…¶ä»–æ–¹å¼',
      'ä¸ªäººè§‰å¾—...', 'ä»æˆ‘çš„è§’åº¦æ¥çœ‹', 'å¯èƒ½éœ€è¦å…·ä½“åˆ†æ', 'æƒ…å†µæ¯”è¾ƒå¤æ‚',

      // æ ¡å›­ç›¸å…³
      'å­¦é•¿å­¦å§å¤ªå‰å®³äº†', 'ä½œä¸ºå­¦å¼Ÿå­¦å¦¹è¡¨ç¤ºè†œæ‹œ', 'è¿™å°±æ˜¯å¤§å­¦ç”Ÿæ´»å•Š', 'é’æ˜¥å›å¿†æ€',
      'æƒ³å¿µæ ¡å›­æ—¶å…‰', 'ç°åœ¨çš„å­¦ç”ŸçœŸå¹¸ç¦', 'å½“å¹´æˆ‘ä»¬ä¹Ÿæ˜¯è¿™æ ·', 'æ—¶ä»£ä¸åŒäº†',

      // ç”Ÿæ´»æ„Ÿæ‚Ÿ
      'ç”Ÿæ´»ä¸æ˜“', 'ä¸”è¡Œä¸”çæƒœ', 'æ¯å¤©éƒ½åœ¨æˆé•¿', 'æ„Ÿè°¢ç”Ÿæ´»çš„ç¾å¥½',
      'å¹³å‡¡ä¸­çš„å°ç¡®å¹¸', 'ç®€å•å°±æ˜¯å¹¸ç¦', 'çŸ¥è¶³å¸¸ä¹', 'çæƒœå½“ä¸‹',

      // ç½‘ç»œç”¨è¯­
      '666', 'ç‰›å•Š', 'yyds', 'ç»äº†', 'å¤ªå¼ºäº†', 'æœæ°”', 'å‰å®³å‰å®³',
      'å­¦åºŸäº†', 'æˆ‘é…¸äº†', 'æŸ æª¬ç²¾ä¸Šçº¿', 'è¿™å°±æ˜¯å·®è·', 'äººæ¯”äººæ°”æ­»äºº'
    ];

    // å¸¦ @ç”¨æˆ·çš„è¯„è®ºæ¨¡æ¿
    const mentionCommentTemplates = [
      ' è¿™ä¸ªå†…å®¹ä¸é”™ï¼Œä½ å¯ä»¥çœ‹çœ‹ ',
      ' è¿™ä¸ªæŒºæœ‰æ„æ€çš„ï¼Œåˆ†äº«ç»™ä½  ',
      ' è¿™ä¸ªå€¼å¾—ä¸€çœ‹ï¼Œä½ è‚¯å®šä¼šæ„Ÿå…´è¶£ ',
      ' è§‰å¾—è¿™ä¸ªå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¿‡æ¥çœ‹çœ‹ ',
      ' è¿™ä¸ªæŒºå¥½çš„ï¼Œæ¨èç»™ä½  ',
      ' çœ‹åˆ°è¿™ä¸ªå°±æƒ³åˆ°ä½ äº†ï¼Œæ¥çœ‹çœ‹å§ ',
      ' è¿™ä¸ªå†…å®¹ä¸é”™ï¼Œä½ å¯èƒ½ä¼šå–œæ¬¢ ',
      ' è¿™ä¸ªæŒºæœ‰ä»·å€¼çš„ï¼Œåˆ†äº«ç»™ä½  ',
      ' è¿™ä¸ªå€¼å¾—å…³æ³¨ï¼Œä½ å¯ä»¥äº†è§£ä¸‹ ',
      ' è§‰å¾—è¿™ä¸ªä¸é”™ï¼Œä½ ä¹Ÿçœ‹çœ‹å§ ',
      ' è¿™ä¸ªå†…å®¹æŒºå¥½ï¼Œæ¨èä½ çœ‹ä¸€ä¸‹ ',
      ' è¿™ä¸ªæŒºå®ç”¨çš„ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹ ',
      ' çœ‹åˆ°è¿™ä¸ªå°±æƒ³è®©ä½ ä¹Ÿçœ‹çœ‹ ',
      ' è¿™ä¸ªå†…å®¹ä¸é”™ï¼Œåˆ†äº«ç»™ä½ å‚è€ƒ ',
      ' è¿™ä¸ªæŒºæœ‰æ„æ€ï¼Œä½ è¿‡æ¥çœ‹çœ‹ '
    ];


    // æŒ‰ç¬”è®°åˆ†ç»„ç”Ÿæˆè¯„è®ºï¼Œç¡®ä¿å›å¤è¯„è®ºçš„parent_idæŒ‡å‘åŒä¸€ç¬”è®°ä¸‹çš„è¯„è®º
    const commentsByPost = {};

    for (let i = 0; i < count; i++) {
      const postId = Math.floor(Math.random() * postCount) + 1;

      // åˆå§‹åŒ–è¯¥ç¬”è®°çš„è¯„è®ºæ•°ç»„
      if (!commentsByPost[postId]) {
        commentsByPost[postId] = [];
      }

      const existingCommentsForPost = commentsByPost[postId];
      let parentId = null;

      // 30%çš„æ¦‚ç‡ç”Ÿæˆå›å¤è¯„è®ºï¼Œä¸”è¯¥ç¬”è®°ä¸‹å¿…é¡»å·²æœ‰è¯„è®º
      if (existingCommentsForPost.length > 0 && Math.random() > 0.7) {
        // éšæœºé€‰æ‹©è¯¥ç¬”è®°ä¸‹çš„ä¸€ä¸ªå·²å­˜åœ¨è¯„è®ºä½œä¸ºçˆ¶è¯„è®º
        const randomIndex = Math.floor(Math.random() * existingCommentsForPost.length);
        parentId = existingCommentsForPost[randomIndex].id;
      }

      let content;

      // 15%çš„æ¦‚ç‡ç”Ÿæˆå¸¦@ç”¨æˆ·çš„è¯„è®º
      if (Math.random() < 0.15) {
        // éšæœºé€‰æ‹©ä¸€ä¸ªç”¨æˆ·è¿›è¡Œ@
        const mentionedUserIndex = Math.floor(Math.random() * userCount);
        const mentionedUser = users[mentionedUserIndex];
        const mentionedUserDisplayId = mentionedUser.user_id;
        const mentionedNickname = mentionedUser.nickname;
        const mentionText = mentionCommentTemplates[Math.floor(Math.random() * mentionCommentTemplates.length)];

        //ç”ŸæˆHTMLæ ¼å¼çš„@ç”¨æˆ·è¯„è®º
        content = `<p><a href="/user/${mentionedUserDisplayId}" data-user-id="${mentionedUserDisplayId}" class="mention-link" contenteditable="false">@${mentionedNickname}</a>&nbsp;${mentionText}</p>`;
      } else {
        //ç”Ÿæˆæ™®é€šè¯„è®º
        content = commentTexts[Math.floor(Math.random() * commentTexts.length)];
      }

      const comment = {
        id: i + 1, // ä¸´æ—¶IDï¼Œç”¨äºç”Ÿæˆè¿‡ç¨‹ä¸­çš„å¼•ç”¨
        post_id: postId,
        user_id: Math.floor(Math.random() * userCount) + 1,
        parent_id: parentId,
        content: content,
        like_count: Math.floor(Math.random() * 20)
      };

      // æ·»åŠ åˆ°å¯¹åº”ç¬”è®°çš„è¯„è®ºåˆ—è¡¨ä¸­
      commentsByPost[postId].push(comment);
      comments.push(comment);
    }

    // ç§»é™¤ä¸´æ—¶IDå­—æ®µ
    return comments.map(comment => {
      const { id, ...commentWithoutId } = comment;
      return commentWithoutId;
    });
  }


  //ç”Ÿæˆç”¨æˆ·ä¼šè¯æ•°æ® - æ¯ä¸ªç”¨æˆ·ä¸€æ¡sessionè®°å½•
  generateUserSessions(userCount) {
    const sessions = [];
    const userAgents = [
      // Windows Chrome
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36',
      'Mozilla/5.0 (Windows NT 11.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',

      // Windows Edge
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36 Edg/119.0.0.0',

      // Windows Firefox
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:120.0) Gecko/20100101 Firefox/120.0',
      'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:119.0) Gecko/20100101 Firefox/119.0',

      // macOS Chrome
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36',

      // macOS Safari
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15',
      'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Safari/605.1.15',

      // iPhone Safari
      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Mobile/15E148 Safari/604.1',
      'Mozilla/5.0 (iPhone; CPU iPhone OS 16_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1',
      'Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.0 Mobile/15E148 Safari/604.1',

      // Android Chrome
      'Mozilla/5.0 (Linux; Android 14; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Mobile Safari/537.36',
      'Mozilla/5.0 (Linux; Android 13; Pixel 7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Mobile Safari/537.36',
      'Mozilla/5.0 (Linux; Android 14; Pixel 8 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Mobile Safari/537.36',

      // Android Firefox
      'Mozilla/5.0 (Mobile; rv:120.0) Gecko/120.0 Firefox/120.0',
      'Mozilla/5.0 (Android 14; Mobile; rv:120.0) Gecko/120.0 Firefox/120.0',

      // iPad Safari
      'Mozilla/5.0 (iPad; CPU OS 17_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Mobile/15E148 Safari/604.1',
      'Mozilla/5.0 (iPad; CPU OS 16_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.6 Mobile/15E148 Safari/604.1'
    ];

    // çœŸå®çš„ä¸­å›½å…¬ç½‘IPåœ°å€æ®µ
    const ipRanges = [
      // ä¸­å›½ç”µä¿¡
      () => `59.${Math.floor(Math.random() * 64) + 32}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 59.32.0.0/11
      () => `61.${Math.floor(Math.random() * 64) + 128}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 61.128.0.0/10
      () => `114.${Math.floor(Math.random() * 64) + 80}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 114.80.0.0/12
      () => `183.${Math.floor(Math.random() * 64) + 192}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 183.192.0.0/10

      // ä¸­å›½è”é€š
      () => `123.${Math.floor(Math.random() * 128) + 112}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 123.112.0.0/12
      () => `125.${Math.floor(Math.random() * 64) + 64}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 125.64.0.0/11
      () => `221.${Math.floor(Math.random() * 32) + 192}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 221.192.0.0/11

      // ä¸­å›½ç§»åŠ¨
      () => `117.${Math.floor(Math.random() * 64) + 128}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 117.128.0.0/10
      () => `223.${Math.floor(Math.random() * 64) + 64}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 223.64.0.0/10

      // å…¶ä»–ä¸­å›½ISP
      () => `101.${Math.floor(Math.random() * 64) + 64}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 101.64.0.0/11
      () => `106.${Math.floor(Math.random() * 64) + 80}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 106.80.0.0/12
      () => `112.${Math.floor(Math.random() * 64) + 64}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}`, // 112.64.0.0/11
      () => `119.${Math.floor(Math.random() * 64) + 128}.${Math.floor(Math.random() * 255)}.${Math.floor(Math.random() * 255)}` // 119.128.0.0/11
    ];

    // ä¸ºæ¯ä¸ªç”¨æˆ·ç”Ÿæˆä¸€æ¡sessionè®°å½•
    for (let userId = 1; userId <= userCount; userId++) {
      const session = {
        user_id: userId,
        token: `token_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
        refresh_token: `refresh_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
        expires_at: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7å¤©åè¿‡æœŸ
        user_agent: userAgents[Math.floor(Math.random() * userAgents.length)],
        is_active: Math.random() > 0.2 ? 1 : 0 // 80%æ´»è·ƒ
      };
      sessions.push(session);
    }
    return sessions;
  }

  //ç”Ÿæˆç”¨æˆ·æ ‡ç­¾æ•°æ®


  // æ’å…¥æ•°æ®åˆ°æ•°æ®åº“
  async insertData() {
    let connection;
    try {
      console.log('å¼€å§‹ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®...');

      // åˆ›å»ºæ•°æ®åº“è¿æ¥
      connection = await mysql.createConnection(dbConfig);
      console.log('æ•°æ®åº“è¿æ¥æˆåŠŸ');

      // æ¸…ç©ºç°æœ‰æ•°æ®
      await this.clearTables(connection);

      // ç¬¬é›¶æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥ç®¡ç†å‘˜æ•°æ®
      console.log('ç”Ÿæˆç®¡ç†å‘˜æ•°æ®...');
      const admins = this.generateAdmins();
      await this.insertAdmins(connection, admins);

      // ç¬¬ä¸€æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥ç”¨æˆ·æ•°æ®ï¼ˆåˆå§‹ç»Ÿè®¡ä¸º0ï¼‰
      console.log('ç”Ÿæˆç”¨æˆ·æ•°æ®...');
      const users = this.generateUsers(50);
      await this.insertUsers(connection, users);

      // ç¬¬äºŒæ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥æ ‡ç­¾æ•°æ®ï¼ˆåˆå§‹ä½¿ç”¨æ¬¡æ•°ä¸º0ï¼‰
      console.log('ç”Ÿæˆæ ‡ç­¾æ•°æ®...');
      const tags = this.generateTags();
      await this.insertTags(connection, tags);

      // ç¬¬ä¸‰æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥ç¬”è®°æ•°æ®ï¼ˆåˆå§‹ç»Ÿè®¡ä¸º0ï¼‰
      console.log('ç”Ÿæˆç¬”è®°æ•°æ®...');
      const posts = this.generatePosts(users.length, 200);
      await this.insertPosts(connection, posts);

      // ç¬¬å››æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥ç¬”è®°å›¾ç‰‡æ•°æ®
      console.log('ç”Ÿæˆç¬”è®°å›¾ç‰‡æ•°æ®...');
      const postImages = this.generatePostImages(posts.length);
      await this.insertPostImages(connection, postImages);

      // ç¬¬äº”æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥å…³æ³¨å…³ç³»æ•°æ®ï¼ŒåŒæ—¶æ›´æ–°ç”¨æˆ·ç»Ÿè®¡
      console.log('ç”Ÿæˆå…³æ³¨å…³ç³»æ•°æ®...');
      const follows = this.generateFollows(users.length, 300);
      await this.insertFollowsWithStats(connection, follows, users.length);

      // ç¬¬å…­æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥è¯„è®ºæ•°æ®ï¼ŒåŒæ—¶æ›´æ–°ç¬”è®°ç»Ÿè®¡
      console.log('ç”Ÿæˆè¯„è®ºæ•°æ®...');
      const comments = this.generateComments(users, posts.length, 800);
      const postCommentStats = {}; // ç¬”è®°è¯„è®ºç»Ÿè®¡
      const insertedCommentIds = []; // å­˜å‚¨å·²æ’å…¥çš„è¯„è®ºID

      // åˆå§‹åŒ–ç»Ÿè®¡
      for (let i = 1; i <= posts.length; i++) {
        postCommentStats[i] = 0;
      }

      for (let i = 0; i < comments.length; i++) {
        const comment = comments[i];
        const result = await connection.execute(
          'INSERT INTO comments (post_id, user_id, parent_id, content, like_count) VALUES (?, ?, ?, ?, ?)',
          [comment.post_id, comment.user_id, comment.parent_id, comment.content, comment.like_count]
        );

        // å­˜å‚¨æ’å…¥åçš„è¯„è®ºID
        const insertedId = result[0].insertId;
        insertedCommentIds.push(insertedId);
        comments[i].id = insertedId; // æ›´æ–°è¯„è®ºå¯¹è±¡çš„ID

        postCommentStats[comment.post_id]++;
      }

      // æ›´æ–°ç¬”è®°è¯„è®ºæ•°
      for (let postId = 1; postId <= posts.length; postId++) {
        await connection.execute(
          'UPDATE posts SET comment_count = ? WHERE id = ?',
          [postCommentStats[postId], postId]
        );
      }

      console.log(`     å·²æ’å…¥ ${comments.length} ä¸ªè¯„è®ºå¹¶æ›´æ–°ç¬”è®°ç»Ÿè®¡`);

      // ç¬¬ä¸ƒæ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥ç‚¹èµæ•°æ®ï¼ŒåŒæ—¶æ›´æ–°ç¬”è®°å’Œç”¨æˆ·ç»Ÿè®¡
      console.log('ç”Ÿæˆç‚¹èµæ•°æ®...');
      const likes = this.generateLikes(users.length, posts.length, comments.length, 1000);
      const postLikeStats = {}; // ç¬”è®°ç‚¹èµç»Ÿè®¡
      const userLikeStats = {}; // ç”¨æˆ·è·å¾—ç‚¹èµç»Ÿè®¡

      // åˆå§‹åŒ–ç»Ÿè®¡
      for (let i = 1; i <= posts.length; i++) {
        postLikeStats[i] = 0;
      }
      for (let i = 1; i <= users.length; i++) {
        userLikeStats[i] = 0;
      }

      for (const like of likes) {
        await connection.execute(
          'INSERT INTO likes (user_id, target_type, target_id) VALUES (?, ?, ?)',
          [like.user_id, like.target_type, like.target_id]
        );

        // å¦‚æœæ˜¯ç‚¹èµç¬”è®°
        if (like.target_type === 1) {
          postLikeStats[like.target_id]++;

          // è·å–ç¬”è®°ä½œè€…ï¼Œå¢åŠ å…¶è·å¾—ç‚¹èµæ•°
          const postAuthor = posts[like.target_id - 1].user_id;
          userLikeStats[postAuthor]++;
        }
      }

      // æ›´æ–°ç¬”è®°ç‚¹èµæ•°
      for (let postId = 1; postId <= posts.length; postId++) {
        await connection.execute(
          'UPDATE posts SET like_count = ? WHERE id = ?',
          [postLikeStats[postId], postId]
        );
      }

      // æ›´æ–°ç”¨æˆ·è·å¾—ç‚¹èµæ•°
      for (let userId = 1; userId <= users.length; userId++) {
        await connection.execute(
          'UPDATE users SET like_count = ? WHERE id = ?',
          [userLikeStats[userId], userId]
        );
      }

      // ç¬¬å…«æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥æ”¶è—æ•°æ®ï¼ŒåŒæ—¶æ›´æ–°ç¬”è®°ç»Ÿè®¡
      console.log('ç”Ÿæˆæ”¶è—æ•°æ®...');
      const collections = this.generateCollections(users.length, posts.length, 400);
      const postCollectStats = {}; // ç¬”è®°æ”¶è—ç»Ÿè®¡

      // åˆå§‹åŒ–ç»Ÿè®¡
      for (let i = 1; i <= posts.length; i++) {
        postCollectStats[i] = 0;
      }

      for (const collection of collections) {
        await connection.execute(
          'INSERT INTO collections (user_id, post_id) VALUES (?, ?)',
          [collection.user_id, collection.post_id]
        );

        postCollectStats[collection.post_id]++;
      }

      // æ›´æ–°ç¬”è®°æ”¶è—æ•°
      for (let postId = 1; postId <= posts.length; postId++) {
        await connection.execute(
          'UPDATE posts SET collect_count = ? WHERE id = ?',
          [postCollectStats[postId], postId]
        );
      }

      // ç¬¬ä¹æ­¥ï¼šç”Ÿæˆç¬”è®°æ ‡ç­¾å…³è”æ•°æ®ï¼ŒåŒæ—¶æ›´æ–°æ ‡ç­¾ä½¿ç”¨æ¬¡æ•°
      console.log('ç”Ÿæˆç¬”è®°æ ‡ç­¾å…³è”æ•°æ®...');
      const tagUseStats = {}; // æ ‡ç­¾ä½¿ç”¨ç»Ÿè®¡

      // åˆå§‹åŒ–ç»Ÿè®¡
      for (let i = 1; i <= tags.length; i++) {
        tagUseStats[i] = 0;
      }

      for (let postId = 1; postId <= posts.length; postId++) {
        const tagCount = Math.floor(Math.random() * 3) + 1;
        const usedTags = new Set();
        for (let i = 0; i < tagCount; i++) {
          let tagId;
          do {
            tagId = Math.floor(Math.random() * tags.length) + 1;
          } while (usedTags.has(tagId));
          usedTags.add(tagId);

          await connection.execute(
            'INSERT INTO post_tags (post_id, tag_id) VALUES (?, ?)',
            [postId, tagId]
          );

          tagUseStats[tagId]++;
        }
      }

      // æ›´æ–°æ ‡ç­¾ä½¿ç”¨æ¬¡æ•°
      for (let tagId = 1; tagId <= tags.length; tagId++) {
        await connection.execute(
          'UPDATE tags SET use_count = ? WHERE id = ?',
          [tagUseStats[tagId], tagId]
        );
      }

      // ç¬¬åæ­¥ï¼šåŸºäºå®é™…æ•°æ®ç”Ÿæˆé€šçŸ¥
      console.log('ç”Ÿæˆé€šçŸ¥æ•°æ®...');
      const notifications = [];

      /*
       * é€šçŸ¥ç±»å‹å®šä¹‰ï¼š
       * 1 - ç‚¹èµç¬”è®°ï¼šèµäº†ä½ çš„ç¬”è®°
       * 2 - ç‚¹èµè¯„è®ºï¼šèµäº†ä½ çš„è¯„è®º
       * 3 - æ”¶è—ç¬”è®°ï¼šæ”¶è—äº†ä½ çš„ç¬”è®°
       * 4 - è¯„è®ºç¬”è®°ï¼šè¯„è®ºäº†ä½ çš„ç¬”è®°
       * 5 - å›å¤è¯„è®ºï¼šå›å¤äº†ä½ çš„è¯„è®º
       * 6 - å…³æ³¨ï¼šå…³æ³¨äº†ä½ ï¼ˆå‰ç«¯æ ¹æ®äº’å…³çŠ¶æ€æ¸²æŸ“ä¸º"å…³æ³¨äº†ä½ "æˆ–"å›å…³äº†ä½ "ï¼‰
       * 7 - @æåŠï¼šåœ¨è¯„è®ºä¸­@äº†ä½ 
       */

      // åŸºäºç‚¹èµç”Ÿæˆé€šçŸ¥
      for (const like of likes) {
        if (like.target_type === 1) { // ç‚¹èµç¬”è®°
          const postAuthor = posts[like.target_id - 1].user_id;
          if (like.user_id !== postAuthor) { // ä¸ç»™è‡ªå·±å‘é€šçŸ¥
            const notificationData = NotificationHelper.createLikePostNotification(
              postAuthor,
              like.user_id,
              like.target_id
            );
            notificationData.is_read = Math.random() > 0.4 ? 1 : 0;
            notifications.push(notificationData);
          }
        } else if (like.target_type === 2) { // ç‚¹èµè¯„è®º
          // éœ€è¦æ‰¾åˆ°è¯„è®ºçš„ä½œè€…
          const comment = comments.find(c => c.id === like.target_id);
          if (comment && like.user_id !== comment.user_id) { // ä¸ç»™è‡ªå·±å‘é€šçŸ¥
            const notificationData = NotificationHelper.createLikeCommentNotification(
              comment.user_id,
              like.user_id,
              comment.post_id, // ä½¿ç”¨ç¬”è®°IDä¾¿äºè·³è½¬
              comment.id // å…³è”å…·ä½“è¯„è®º
            );
            notificationData.is_read = Math.random() > 0.4 ? 1 : 0;
            notifications.push(notificationData);
          }
        }
      }

      // åŸºäºè¯„è®ºç”Ÿæˆé€šçŸ¥
      for (let i = 0; i < comments.length; i++) {
        const comment = comments[i];

        // æ£€æŸ¥è¯„è®ºæ˜¯å¦åŒ…å«@ç”¨æˆ·ï¼Œç”Ÿæˆ@æåŠé€šçŸ¥
        if (comment.content && comment.content.includes('mention-link')) {
          // æå–@ç”¨æˆ·ä¿¡æ¯ï¼ˆç®€åŒ–å¤„ç†ï¼Œä»HTMLä¸­æå–data-user-idï¼‰
          const mentionMatches = comment.content.match(/data-user-id="([^"]+)"/g);
          if (mentionMatches) {
            for (const match of mentionMatches) {
              const userIdMatch = match.match(/data-user-id="([^"]+)"/);
              if (userIdMatch) {
                const mentionedUserDisplayId = userIdMatch[1];
                // æ ¹æ®display_idæ‰¾åˆ°å¯¹åº”çš„è‡ªå¢ID
                const mentionedUser = users.find(u => u.user_id === mentionedUserDisplayId);
                if (mentionedUser && mentionedUser.id !== comment.user_id) { // ä¸ç»™è‡ªå·±å‘é€šçŸ¥
                  const notificationData = NotificationHelper.createMentionNotification(
                    mentionedUser.id,
                    comment.user_id,
                    comment.post_id,
                    comment.id
                  );
                  notificationData.is_read = Math.random() > 0.4 ? 1 : 0;
                  notifications.push(notificationData);
                }
              }
            }
          }
        }

        if (comment.parent_id) {
          // å›å¤è¯„è®ºçš„é€šçŸ¥
          const parentComment = comments.find(c => c.id === comment.parent_id);
          if (parentComment && comment.user_id !== parentComment.user_id) { // ä¸ç»™è‡ªå·±å‘é€šçŸ¥
            const notificationData = NotificationHelper.createReplyCommentNotification(
              parentComment.user_id,
              comment.user_id,
              comment.post_id,
              comment.id // å…³è”å…·ä½“å›å¤è¯„è®º
            );
            notificationData.is_read = Math.random() > 0.4 ? 1 : 0;
            notifications.push(notificationData);
          }
        } else {
          // è¯„è®ºç¬”è®°çš„é€šçŸ¥
          const postAuthor = posts[comment.post_id - 1].user_id;
          if (comment.user_id !== postAuthor) { // ä¸ç»™è‡ªå·±å‘é€šçŸ¥
            const notificationData = NotificationHelper.createCommentPostNotification(
              postAuthor,
              comment.user_id,
              comment.post_id,
              comment.id // å…³è”å…·ä½“è¯„è®º
            );
            notificationData.is_read = Math.random() > 0.4 ? 1 : 0;
            notifications.push(notificationData);
          }
        }
      }

      // åŸºäºå…³æ³¨ç”Ÿæˆé€šçŸ¥
      for (const follow of follows) {
        const notificationData = NotificationHelper.createFollowNotification(
          follow.following_id,
          follow.follower_id
        );
        notificationData.is_read = Math.random() > 0.4 ? 1 : 0;
        notifications.push(notificationData);
      }

      // åŸºäºæ”¶è—ç”Ÿæˆé€šçŸ¥
      for (const collection of collections) {
        const postAuthor = posts[collection.post_id - 1].user_id;
        if (collection.user_id !== postAuthor) { // ä¸ç»™è‡ªå·±å‘é€šçŸ¥
          const notificationData = NotificationHelper.createCollectPostNotification(
            postAuthor,
            collection.user_id,
            collection.post_id
          );
          notificationData.is_read = Math.random() > 0.4 ? 1 : 0;
          notifications.push(notificationData);
        }
      }

      // æ’å…¥é€šçŸ¥æ•°æ®
      for (let i = 0; i < notifications.length; i++) {
        const notification = notifications[i];

        // æ£€æŸ¥æ˜¯å¦æœ‰undefinedå­—æ®µ
        const params = [notification.user_id, notification.sender_id, notification.type, notification.title, notification.target_id, notification.comment_id || null, notification.is_read];
        const hasUndefined = params.some(param => param === undefined);

        if (hasUndefined) {
          console.error(`Notification ${i} has undefined parameters:`, {
            user_id: notification.user_id,
            sender_id: notification.sender_id,
            type: notification.type,
            title: notification.title,
            target_id: notification.target_id,
            comment_id: notification.comment_id,
            is_read: notification.is_read
          });
          continue; // è·³è¿‡è¿™ä¸ªæœ‰é—®é¢˜çš„é€šçŸ¥
        }

        await connection.execute(
          'INSERT INTO notifications (user_id, sender_id, type, title, target_id, comment_id, is_read) VALUES (?, ?, ?, ?, ?, ?, ?)',
          params
        );
      }

      // ç¬¬åä¸€æ­¥ï¼šç”Ÿæˆå¹¶æ’å…¥ç”¨æˆ·ä¼šè¯æ•°æ® - æ¯ä¸ªç”¨æˆ·ä¸€æ¡session
      console.log('ç”Ÿæˆç”¨æˆ·ä¼šè¯æ•°æ®...');
      const userSessions = this.generateUserSessions(users.length);
      for (const session of userSessions) {
        await connection.execute(
          'INSERT INTO user_sessions (user_id, token, refresh_token, expires_at, user_agent, is_active) VALUES (?, ?, ?, ?, ?, ?)',
          [session.user_id, session.token, session.refresh_token, session.expires_at, session.user_agent, session.is_active]
        );
      }

      console.log('æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå®Œæˆï¼');
      console.log(`  æ•°æ®ç»Ÿè®¡:`);
      console.log(`   ç®¡ç†å‘˜: ${admins.length} ä¸ª`);
      console.log(`   ç”¨æˆ·: ${users.length} ä¸ª`);
      console.log(`   æ ‡ç­¾: ${tags.length} ä¸ª`);
      console.log(`   ç¬”è®°: ${posts.length} ä¸ª`);
      console.log(`   å›¾ç‰‡: ${postImages.length} å¼ `);
      console.log(`   å…³æ³¨å…³ç³»: ${follows.length} ä¸ª`);
      console.log(`   ç‚¹èµ: ${likes.length} ä¸ª`);
      console.log(`   æ”¶è—: ${collections.length} ä¸ª`);
      console.log(`   è¯„è®º: ${comments.length} ä¸ª`);
      console.log(`   é€šçŸ¥: ${notifications.length} ä¸ª`);
      console.log(`   ä¼šè¯: ${userSessions.length} ä¸ª`);
      console.log(`   åˆ†ç±»åˆ—è¡¨: ${this.categories.join(', ')}`);

    } catch (error) {
      console.error('ç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®å¤±è´¥:', error);
    } finally {
      if (connection) {
        await connection.end();
      }
    }
  }
}

// è¿è¡Œæ•°æ®ç”Ÿæˆå™¨
if (require.main === module) {
  const generator = new DataGenerator();
  generator.insertData();
}

module.exports = DataGenerator;